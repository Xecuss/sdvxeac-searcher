var V=Object.defineProperty;var $=(s,e,t)=>e in s?V(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var D=(s,e,t)=>($(s,typeof e!="symbol"?e+"":e,t),t);import{d as y,r as M,o as d,c as f,w as E,a,t as v,F as b,b as O,n as k,e as U,f as L,g as G,h as A,i as W,j as R,k as X,l as q,m as K,u as w,p as S,v as H,q as J,s as Q,x as Y,y as Z,z as B,A as ee}from"./vendor.36038887.js";const te=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function t(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerpolicy&&(n.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?n.credentials="include":r.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(r){if(r.ep)return;r.ep=!0;const n=t(r);fetch(r.href,n)}};te();var C=(s,e)=>{const t=s.__vccOpts||s;for(const[o,r]of e)t[o]=r;return t};const se={class:"music-item"},oe={class:"cover"},re={class:"name"},ne={class:"artist"},ie={class:"difficulties"},ae={class:"package"},ue={class:"categorys"},ce=y({props:{data:{type:Object,required:!0}},setup(s){return(e,t)=>{const o=M("lazy");return d(),f("div",se,[E(a("img",oe,null,512),[[o,`https://p.eagate.573.jp/${s.data.cover}`]]),a("h3",re,v(s.data.name),1),a("p",ne,v(s.data.artist),1),a("div",ie,[(d(!0),f(b,null,O(s.data.difficulties,r=>(d(),f("div",{key:r.id,class:k(["difficulty",r.name])},v(r.name)+" "+v(r.level),3))),128))]),a("p",ae,v(s.data.pacakge),1),a("div",ue,[(d(!0),f(b,null,O(s.data.category,r=>(d(),f("div",{key:r,class:k(["category",r])},v(r),3))),128))])])}}});var le=C(ce,[["__scopeId","data-v-4b07e50c"]]);const de=["onClick"],pe=y({props:{show:{type:Boolean,default:!1}},emits:["update:show"],setup(s,{emit:e}){const t=()=>{e("update:show",!1)};return(o,r)=>s.show?(d(),f("div",{key:0,class:"blur-bg",onClick:L(t,["stop"])},[a("div",{class:"float-panel",onClick:r[0]||(r[0]=L(()=>{},["stop"]))},[U(o.$slots,"default",{},void 0,!0)])],8,de)):G("",!0)}});var fe=C(pe,[["__scopeId","data-v-3e06fdbf"]]);const _e=20220604;var N={version:_e};const x="x-sdvx-songdb",I=(s,e)=>s.localeCompare(e,"ja",{numeric:!0}),ve=s=>{const e=s.filter(n=>n.startsWith("20")).sort(I),t=s.filter(n=>n.startsWith("\u30B3\u30CA\u30B9\u30C6\u7248 SOUND VOLTEX \u697D\u66F2\u30D1\u30C3\u30AF")).sort(I),o=s.filter(n=>n==="\u6700\u521D\u304B\u3089\u30D7\u30EC\u30FC\u3067\u304D\u307E\u3059").sort(I),r=s.filter(n=>!n.startsWith("\u30B3\u30CA\u30B9\u30C6\u7248 SOUND VOLTEX \u697D\u66F2\u30D1\u30C3\u30AF")&&!n.startsWith("20")&&n!=="\u6700\u521D\u304B\u3089\u30D7\u30EC\u30FC\u3067\u304D\u307E\u3059").sort(I);return[...o,...t,...e,...r]},he=async()=>{const s=localStorage.getItem(x);if(s){const o=JSON.parse(s);if(o.version>=N.version)return o.songs}const t=await(await fetch("./music_db.json?r="+new Date().valueOf())).json();return localStorage.setItem(x,JSON.stringify({version:N.version,songs:t.data})),t.data};const me=s=>(J("data-v-0017f73e"),s=s(),Q(),s),be=me(()=>a("h1",null,"\u30B3\u30CA\u30B9\u30C6\u7248 SDVXEG \u4E50\u66F2\u691C\u7D22",-1)),ge={class:"filter-list"},ye=["value"],Oe={class:"search-bar"},Ae={class:"setting-row"},we={class:"musics"},Ie=y({setup(s){let e=A(""),t=W([]),o=A([]);he().then(c=>{t.push(...c),h()});const r=R(()=>ve([...new Set(t.map(c=>c.pacakge))])),n=A([]);let i=A(!1);const _=R(()=>{if(!n.value.length)return t;const c=new Set(n.value);return t.filter(l=>c.has(l.pacakge))});let m;const h=()=>{clearTimeout(m),m=setTimeout(()=>{if(!e.value.trim())n.value.length?o.value=_.value:o.value=_.value.slice(0,200);else{const c=new X(_.value,{keys:["name","artist"]});o.value=c.search(e.value).map(l=>l.item)}},200)},z=c=>c.startsWith("\u30B3\u30CA\u30B9\u30C6\u7248 SOUND VOLTEX")?c.replace("\u30B3\u30CA\u30B9\u30C6\u7248 SOUND VOLTEX",""):c;return(c,l)=>(d(),f(b,null,[be,q(fe,{show:w(i),"onUpdate:show":l[1]||(l[1]=u=>S(i)?i.value=u:i=u)},{default:K(()=>[a("div",ge,[(d(!0),f(b,null,O(w(r),u=>(d(),f("label",{class:k(["package",{active:n.value.indexOf(u)!==-1}])},[E(a("input",{class:"checkbox",type:"checkbox","onUpdate:modelValue":l[0]||(l[0]=T=>n.value=T),value:u,onInput:h},null,40,ye),[[Y,n.value]]),Z(" "+v(z(u)),1)],2))),256))])]),_:1},8,["show"]),a("div",Oe,[E(a("input",{type:"text","onUpdate:modelValue":l[2]||(l[2]=u=>S(e)?e.value=u:e=u),onInput:h,placeholder:"keyword...",class:"keyword"},null,544),[[H,w(e)]]),a("div",Ae,[a("span",{class:"filter",onClick:l[3]||(l[3]=u=>S(i)?i.value=!0:i=!0)},"filter")])]),a("div",we,[(d(!0),f(b,null,O(w(o),u=>(d(),B(le,{key:u.id,data:u},null,8,["data"]))),128))])],64))}});var De=C(Ie,[["__scopeId","data-v-0017f73e"]]);const Ee=y({setup(s){return(e,t)=>(d(),B(De))}});var p;(function(s){s.LOADING="loading",s.LOADED="loaded",s.ERROR="error"})(p||(p={}));const ke=typeof window!="undefined"&&window!==null,Se=Be(),Ce=Object.prototype.propertyIsEnumerable,P=Object.getOwnPropertySymbols;function g(s){return typeof s=="function"||toString.call(s)==="[object Object]"}function Le(s){return typeof s=="object"?s===null:typeof s!="function"}function Re(s){return s!=="__proto__"&&s!=="constructor"&&s!=="prototype"}function Be(){return ke&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype?("isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get(){return this.intersectionRatio>0}}),!0):!1}function Ne(s,...e){if(!g(s))throw new TypeError("expected the first argument to be an object");if(e.length===0||typeof Symbol!="function"||typeof P!="function")return s;for(const t of e){const o=P(t);for(const r of o)Ce.call(t,r)&&(s[r]=t[r])}return s}function F(s,...e){let t=0;for(Le(s)&&(s=e[t++]),s||(s={});t<e.length;t++)if(g(e[t])){for(const o of Object.keys(e[t]))Re(o)&&(g(s[o])&&g(e[t][o])?F(s[o],e[t][o]):s[o]=e[t][o]);Ne(s,e[t])}return s}const xe={rootMargin:"0px",threshold:0},j="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Pe="";class Fe{constructor(e){D(this,"options",{loading:j,error:Pe,observerOptions:xe,log:!0,lifecycle:{}});D(this,"_images",new WeakMap);this.config(e)}config(e={}){F(this.options,e)}mount(e,t){const{src:o,loading:r,error:n,lifecycle:i}=this._valueFormatter(t.value);this._lifecycle(p.LOADING,i,e),e.setAttribute("src",r||j),Se||(this.loadImages(e,o,n,i),this._log(()=>{throw new Error("Not support IntersectionObserver!")})),this._initIntersectionObserver(e,o,n,i)}update(e,t){var _;(_=this._realObserver(e))==null||_.unobserve(e);const{src:o,loading:r,error:n,lifecycle:i}=this._valueFormatter(t.value);this._lifecycle(p.LOADING,i,e),this._initIntersectionObserver(e,o,n,i)}unmount(e){var t;(t=this._realObserver(e))==null||t.unobserve(e),this._images.delete(e)}loadImages(e,t,o,r){this._setImageSrc(e,t,o,r)}_setImageSrc(e,t,o,r){e.tagName.toLowerCase()==="img"?(t&&e.getAttribute("src")!==t&&e.setAttribute("src",t),this._listenImageStatus(e,()=>{this._lifecycle(p.LOADED,r,e)},()=>{var n;e.onload=null,this._lifecycle(p.ERROR,r,e),(n=this._realObserver(e))==null||n.disconnect(),o&&e.setAttribute("src",o),this._log(()=>{throw new Error("Image failed to load!")})})):e.style.backgroundImage="url('"+t+"')"}_initIntersectionObserver(e,t,o,r){var i;const n=this.options.observerOptions;this._images.set(e,new IntersectionObserver(_=>{Array.prototype.forEach.call(_,m=>{var h;m.isIntersecting&&((h=this._realObserver(e))==null||h.unobserve(m.target),this._setImageSrc(e,t,o,r))})},n)),(i=this._realObserver(e))==null||i.observe(e)}_listenImageStatus(e,t,o){e.onload=t,e.onerror=o}_valueFormatter(e){let t=e,o=this.options.loading,r=this.options.error,n=this.options.lifecycle;return g(e)&&(t=e.src,o=e.loading||this.options.loading,r=e.error||this.options.error,n=e.lifecycle||this.options.lifecycle),{src:t,loading:o,error:r,lifecycle:n}}_log(e){this.options.log&&e()}_lifecycle(e,t,o){switch(e){case p.LOADING:o==null||o.setAttribute("lazy",p.LOADING),(t==null?void 0:t.loading)&&t.loading(o);break;case p.LOADED:o==null||o.setAttribute("lazy",p.LOADED),(t==null?void 0:t.loaded)&&t.loaded(o);break;case p.ERROR:o==null||o.setAttribute("lazy",p.ERROR),(t==null?void 0:t.error)&&t.error(o);break}}_realObserver(e){return this._images.get(e)}}var je={install(s,e){const t=new Fe(e);s.config.globalProperties.$Lazyload=t,s.provide("Lazyload",t),s.directive("lazy",{mounted:t.mount.bind(t),updated:t.update.bind(t),unmounted:t.unmount.bind(t)})}};ee(Ee).use(je).mount("#app");
